post:
  tags:
    - Setup
  summary: setup
  description: >
    Initialize a freshly installed appliance to create the master tenant and
    System Admin user. 

    Authorization is not required. 

    This operation can only be executed successfully once.
  operationId: setup
  parameters: []
  requestBody:
    description: ''
    content:
      application/json:
        schema:
          $ref: ..\components\schemas\ApiSetupRequest.yaml
        examples:
          setup:
            summary: Setup appliance
            description: >
              This example initializes the appliance and without connecting to
              the [Morpheus Hub](https://morpheushub.com).

              A license key will need to be installed manually.
            value:
              applianceName: The Matrix
              accountName: Meta Cortex Corporation
              firstName: Thomas
              lastName: Anderson
              email: tanderson@mccorp.com
              username: tanderson
              password: QnW}cg}8}<~:P9YU
          setupWithHubRegistration:
            summary: Setup appliance with Hub Registration
            description: >
              This example initializes the appliance and connects to the
              [Morpheus Hub](https://morpheushub.com) to create and register a
              new hub account. 

              This automatically retrieves a new Community Edition License from
              the Hub and installs it in your appliance.
            value:
              applianceName: The Matrix
              accountName: Meta Cortex Corporation
              firstName: Thomas
              lastName: Anderson
              email: tanderson@mccorp.com
              username: tanderson
              password: QnW}cg}8}<~:P9YU
              hubmode: register
              hub:
                companyName: Meta Cortex Corporation
                firstName: Thomas
                lastName: Anderson
                email: tanderson@mccorp.com
                password: AGoodPasswordForNewHubAccount
                jobTitle: The One
          setupWithHubLogin:
            summary: Setup appliance with Hub Login
            description: >
              This example initializes the appliance and connects to the
              [Morpheus Hub](https://morpheushub.com) using an existing hub
              account.

              This automatically retrieves a new Community Edition License from
              the Hub and installs it in your appliance.
            value:
              applianceName: The Matrix
              accountName: Meta Cortex Corporation
              firstName: Thomas
              lastName: Anderson
              email: tanderson@mccorp.com
              username: tanderson
              password: QnW}cg}8}<~:P9YU
              hubmode: login
              hub:
                email: tanderson@mccorp.com
                password: YourExistingHubPassword
    required: false
  responses:
    '200':
      description: >-
        Appliance setup complete. The master tenant and system admin user were
        created successfully.
      headers: {}
      content:
        application/json:
          schema:
            $ref: ..\components\schemas\setup.yaml
    '400':
      description: Appliance has already been setup
      headers: {}
      content:
        application/json:
          schema:
            $ref: ..\components\schemas\ApiSetup400Error1.yaml
    '401':
      description: Unauthorized.
      headers: {}
      content: {}
    '403':
      description: Forbidden.
      headers: {}
      content: {}
    '404':
      description: Object Not Found.
      headers: {}
      content: {}
    '500':
      description: Internal Server Error.
      headers: {}
      content: {}
    '503':
      description: Service Unavailable.
      headers: {}
      content: {}
  deprecated: false
  security: []
parameters: []
